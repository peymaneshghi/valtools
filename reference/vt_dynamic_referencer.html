<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Manage dynamic refrerencing — vt_dynamic_referencer • valtools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Manage dynamic refrerencing — vt_dynamic_referencer" />
<meta property="og:description" content="Manage dynamic refrerencing
Manage dynamic refrerencing" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">valtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/starting-validated-package.html">Starting New Validation Package using {valtools}</a>
    </li>
    <li>
      <a href="../articles/validating-external-resources.html">Validating External Resources with {valtools}</a>
    </li>
    <li>
      <a href="../articles/validation_figure_tests.html">Validation: Figure Tests</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Manage dynamic refrerencing</h1>
    
    <div class="hidden name"><code>vt_dynamic_referencer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Manage dynamic refrerencing</p>
<p>Manage dynamic refrerencing</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The job of the dynamic referencer is to aggregate the references that exist from
requirements, test cases, test code and in the validation report and
update them accordingly. This helps with the painful cases where a new reference
may be added between existing numbering and all subsequent references need to be
updated</p>
<p>The user should not need to use this object directly, it will be called upon
on rendering of the contents in the validation report.</p>
<p>By default, the expected indicator for a reference is "##", though this can be
changed. A reference starts with the indicator (##) and can then be any
contiguous (no white spaces or special characters) alphanumeric sequence, or include
an underscore or dash. ie. ##req:THISIS_A-reference1234 is valid for the entire string,
but ##req:THISIS_A-reference.12345 is a dynamic reference up to the ".".</p>
<p>The method 'scrape_references' takes in a vector of strings, and an indicator whether
the input file text is a requirement ('req'), test case or
test code ('tc'). This allows numbering to increase independently for each.
However, every reference must be unique. ie. ##reference whether it shows up in a
test case or requirement will be the same reference.</p>
<p>The method 'reference_insertion' takes a vector of strings and replaces references
with their numeric values.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Public methods</h3>

<ul>
<li><p><a href='#method-scrape_references'><code>vt_dynamic_referencer$scrape_references()</code></a></p></li>
<li><p><a href='#method-reference_insertion'><code>vt_dynamic_referencer$reference_insertion()</code></a></p></li>
<li><p><a href='#method-list_references'><code>vt_dynamic_referencer$list_references()</code></a></p></li>
<li><p><a href='#method-new'><code>vt_dynamic_referencer$new()</code></a></p></li>
<li><p><a href='#method-clone'><code>vt_dynamic_referencer$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-scrape_references"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>scrape_references()</code></h3>
<p>collect references from text.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='va'>text</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>text</code></dt><dd><p>character vector to collect references from.</p></dd>

<dt><code>type</code></dt><dd><p>type of file being converted; a requirement ('req'),
test case  or test code ('tc')</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##req:new_reference"</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
</pre><p></div></p>

<p><hr>
<a id="method-reference_insertion"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>reference_insertion()</code></h3>
<p>replace references in text with values</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>reference_insertion</span><span class='op'>(</span><span class='va'>text</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>text</code></dt><dd><p>character vector to be inserting references into</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##new_reference"</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>reference_insertion</span><span class='op'>(</span><span class='st'>"This is my ##new_reference"</span><span class='op'>)</span>
</pre><p></div></p>

<p><hr>
<a id="method-list_references"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>list_references()</code></h3>
<p>list references available and their value</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##new_reference"</span><span class='op'>)</span>
<span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span>
</pre><p></div></p>

<p><hr>
<a id="method-new"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>new()</code></h3>
<p>create a new dynamic reference object</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  reference_indicator <span class='op'>=</span> <span class='st'>"##"</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"number"</span>, <span class='st'>"letter"</span><span class='op'>)</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>reference_indicator</code></dt><dd><p>character vector that indicates the start of the dynamic references. defaults to "##type:reference"</p></dd>

<dt><code>type</code></dt><dd><p>"number" (arabic) or "letter" (latin uppercase) to use for counters</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>a new <code>vt_dynamic_reference</code> object</p>
<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='va'>reference</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>reference</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;vt_dynamic_referencer&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Public:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     clone: function (deep = FALSE) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     initialize: function (reference_indicator = "##", type = c("number", "letter")) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     list_references: function () </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     reference_insertion: function (text) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     scrape_references: function (text) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Private:</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     add_reference: function (reference_id, type = c("req", "tc")) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     advance_reference: function (type = c("req", "tc")) </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     ref_iter_number: list</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     reference_indicator: ##</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     reference_indicator_regex: \#\#</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     references: list</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     type: number</span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'><span class='co'>## Method `vt_dynamic_referencer$scrape_references`</span></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> list()</span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##req:new_reference"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> $`req:new_reference`</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] 1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'><span class='co'>## Method `vt_dynamic_referencer$reference_insertion`</span></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> list()</span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##new_reference"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> list()</span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>reference_insertion</span><span class='op'>(</span><span class='st'>"This is my ##new_reference"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "This is my ##new_reference"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'><span class='co'>## Method `vt_dynamic_referencer$list_references`</span></span>
<span class='r-in'><span class='co'>## ------------------------------------------------</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>ref</span> <span class='op'>&lt;-</span> <span class='va'>vt_dynamic_referencer</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> list()</span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>scrape_references</span><span class='op'>(</span><span class='st'>"##new_reference"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>ref</span><span class='op'>$</span><span class='fu'>list_references</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> list()</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Ellis Hughes, Eli Miller, Marie Vendettuoli, Peyman Eshghi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


